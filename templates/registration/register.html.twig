{# templates/registration/register.html.twig #}

{{ form_start(form, {'attr': {'class': 'form-registration'}}) }}
<div class="registration-content">
    <div class="my-custom-class-for-errors">
        {{ form_errors(form) }}
    </div>

    {{ form_label(form.username, null, {'label_attr': {'class': 'sr-only'}}) }}{{ form_widget(form.username) }}
    {{ form_label(form.email, null, {'label_attr': {'class': 'sr-only'}}) }}{{ form_widget(form.email) }}
    {{ form_label(form.plainPassword.first, null, {'label_attr': {'class': 'sr-only'}}) }}{{ form_widget(form.plainPassword.first) }}
    {{ form_label(form.plainPassword.second, null, {'label_attr': {'class': 'sr-only'}}) }}{{ form_widget(form.plainPassword.second) }}

    <p>
        Vos données personnelles (email et nom d'utilisateur) ne sont utilisées qu'à des fins d'authentification et ne sont pas partagés avec des tiers.
    </p>
    {% if is_granted("role_admin") or app.environment == 'dev' %} 
    <button type="submit" class="btn btn-lg btn-success btn-block">{{ 'registration.submit'|trans }}</button>
    {% else %}
    <div class="alert alert-warning">
        Pour l'instant les inscriptions sont fermée.
    </div>
    {% endif %}
    <p class="small mt-2">
        <a href="{{ path('app_forgot_password_request') }}">Mot de passe oublié ?</a>
    </p>
</div>
{{ form_end(form) }}